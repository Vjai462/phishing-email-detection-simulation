# üêû Problems & Solutions

| Problem | Phase | Difficulty | Solution | Date | Status | Learning |
|---------|-------|------------|----------|------|--------|----------|
| Windows Server 2022 can't install .NET Framework 3.5 through Windows Features | Phase 1 | Medium | Use Server Manager **"Add roles and features"** or PowerShell `Enable-WindowsOptionalFeature`. <br><br> **Alternative Solution (If Download Keeps Failing):** <br> Manual .NET Framework Download: <br>  **Actions:** <br> 1. Open a new browser tab <br> 2. Go to: [Microsoft .NET Framework 2.0 Service Pack 2](https://www.microsoft.com/en-us/download/details.aspx?id=1639) <br> 3. Download and install manually <br> 4. Return to hMailServer installation | Sept 6, 2025 | ‚úÖ Done | Legacy applications often need older frameworks installed as optional features. <br><br> **Why This Happened (Windows Server 2022):** <br> ‚Ä¢ Modern Windows Server comes with .NET Framework 4.x pre-installed <br> ‚Ä¢ Legacy .NET 2.0/3.5 must be added as an optional feature <br> ‚Ä¢ hMailServer was built for older .NET versions, so it requires legacy framework <br><br> **This is Normal:** Many older applications require legacy frameworks. |
| Forgotten Admin Account Password (Lost/forgot password for admin@Sber.local account, preventing Thunderbird login) | Phase 1 | Easy | Reset password directly in hMailServer Administrator by navigating to **Domains ‚Üí Sber.local ‚Üí Accounts ‚Üí admin@Sber.local**, clearing password field, entering new password (`admin123`), and clicking Save. After saving, password displays as `<<Encrypted>>` which confirms successful storage. | Sept 7, 2025 | ‚úÖ Done | Email server administrators can reset user passwords directly through the management interface. The `<<Encrypted>>` display after saving indicates proper password encryption and storage. Always use simple passwords in lab environments for easy testing, but remember to document them. |
| Thunderbird Cannot Connect to hMailServer (connection errors despite correct configuration) | Phase 1 | Medium | Multiple factors resolved: <br> 1. Changed hostname from `sber.local` ‚Üí `127.0.0.1` <br> 2. Verified hMailServer services were running (SMTP, IMAP, POP3) <br> 3. Used IP address instead of domain name | Sept 7, 2025 | ‚úÖ Done | In lab environments, using IP addresses (`127.0.0.1`) is more reliable than domain names because it bypasses DNS resolution. Always verify server services are running before troubleshooting. |
| Thunderbird rejected "sber.local" hostname with error *"Hostname empty or invalid. Only letters, numbers, - and . are allowed‚Äù* | Phase 1 | Medium | Replaced domain name `sber.local` with IP address `127.0.0.1` in Thunderbird configuration. This bypassed hostname validation. | Sept 7, 2025 | ‚úÖ Done | Email clients enforce strict hostname validation. In labs where domains aren‚Äôt registered in DNS, using `127.0.0.1` is the most reliable method. |
| `sudo nano config.json` opens an empty file | Phase 3 | Medium | The wrong file was downloaded (source code instead of pre-compiled binary). Solution: re-download the correct file, `gophish-vX.Y.Z-linux-64bit.zip`, which contains `config.json`. | Sept 7, 2025 | ‚úÖ Done | Always ensure you download the correct **binary executable** for your OS, not the source code. |
| `sudo ./gophish` returns *command not found* | Phase 3 | Medium | The file lacked execute permission. Solution: run `chmod +x gophish` to make it executable. | Sept 7, 2025 | ‚úÖ Done | In Linux, a file must have `x` (execute) permission to run as a program. This permission is often lost during unzipping. |
| Opening `http://0.0.0.0:80` shows Apache page instead of GoPhish | Phase 3 | Medium | Apache web server was already using port 80. Solution: stop Apache service to free the port. Note: GoPhish admin panel runs on port 3333 via HTTPS. | Sept 7, 2025 | ‚úÖ Done | Only one program can bind to a port at a time. If you get conflicts, check which service is already using the port. |
| Invalid JSON Structure while creating campaign | Phase 5 | Medium | GoPhish requires date format in `YYYY-MM-DD HH:MM:SS`. Adjusting campaign schedule date format fixed the issue. | Sept 5, 2025 | ‚úÖ Done | Always ensure input values match the JSON structure expected by GoPhish (especially dates). |
| Emails sent, but links were not clickable | Phase 5 | Easy | In the email template, wrap URLs inside `<a>` tags (e.g., `<a href="http://...">Click Here</a>`). | Sept 9, 2025 | ‚úÖ Done | GoPhish doesn‚Äôt automatically format plain URLs; proper HTML templates are needed for realistic-looking phishing emails. |
| Confusion about Campaign URL field | Phase 5 | Medium | Campaign URL must be the GoPhish server IP/domain (e.g., `http://192.168.X.X` or fake domain like `http://login-instagram.net`) so GoPhish can track clicks. Do not use the real Instagram/Facebook URL here. | Sept 9, 2025 | ‚úÖ Done | The Campaign URL is for tracking and must point to your server, not the real target domain. |
| IP address visible in phishing emails (suspicious to victim) | Phase 5 | Medium | Created a fake domain (`login-instagram.net`) and mapped it to Kali IP in Windows victim‚Äôs hosts file. Used that domain in campaign and email template instead of raw IP. | Sept 9, 2025 | ‚úÖ Done | Use domain masking (hosts/DNS override) to hide your Kali IP for realistic phishing. |
| Importing Instagram login page failed (connection refused) | Phase 5 | Medium | Instead, imported Facebook login page successfully and used that as the landing page. Adjusted email/landing page theme to Facebook. | Sept 9, 2025 | ‚úÖ Done | Not all sites import cleanly into GoPhish due to scripts and protections. Always have an alternative (e.g., Facebook page works when Instagram fails). |
| Submitted credentials not captured | Phase 5 | Hard | The imported Facebook form had `action="https://facebook.com/login"`, so creds went to Facebook instead of GoPhish. Fixed by editing HTML and setting `<form method="POST" action="">`. Enabled **Capture Submitted Data** + **Capture Passwords** in landing page settings. | Sept 9, 2025 | ‚úÖ Done | Credential capture only works if the form action points to GoPhish. Always review HTML after import. |
| Unsure where to check submitted credentials | Phase 5 | Easy | In GoPhish ‚Üí Campaign ‚Üí Targets table ‚Üí ‚ÄúSubmitted Data‚Äù ‚úîÔ∏è symbol ‚Üí click to view captured creds. Optionally export results as JSON/CSV. | Sept 9, 2025 | ‚úÖ Done | GoPhish provides a clean dashboard and export option. Know where to look for captured data. |
| Externally Managed Python Environment | Phase 7 | Hard | Created a Python virtual environment (venv) inside the project folder (PhishDetector) and installed packages (`pip install scikit-learn pandas`) inside it. This isolated environment bypassed the system restriction. | Sept 9, 2025 | ‚úÖ Done | Kali Linux restricts global pip installs for system safety. Virtual environments keep projects isolated, clean, and safe. Always activate venv (`source venv/bin/activate`) before running scripts. |
| Wrong Dataset Column Names | Phase 7 | Medium | Initial script used `df['text']` and `df['label']`. Dataset actually had columns named **Email Text** and **Email Type**, causing `KeyError: 'text'`. Fixed by updating: `X = df['Email Text']`, `y = df['Email Type']`. | Sept 9, 2025 | ‚úÖ Done | Always preview dataset (`print(df.head()`) to confirm column names. Code must match dataset structure exactly. |
| File Location Confusion (Where to Create detector.py) | Phase 7 | Easy | Created `detector.py` inside the **PhishDetector** project folder (same location as dataset). venv should only hold libraries, not project files. | Sept 9, 2025 | ‚úÖ Done | Project structure matters:<br>```\nPhishDetector/\n  ‚îú‚îÄ‚îÄ venv/\n  ‚îú‚îÄ‚îÄ phishing_dataset.csv\n  ‚îî‚îÄ‚îÄ detector.py\n```<br>Keep dataset + script together for easier file access. |
